<div class="row" ng-show="error">
	<div class="col-lg-12">
		<div class="alert alert-danger" ng-bind="error"></div>
	</div>
</div>
<form class="form-horizontal">
	<div class="form-group">
		<label class="col-sm-2 control-label">start date</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" placeholder="yyyy-mm-dd HH:MM[:SS] [MST/-0700]" ng-model="start">
			<p class="help-block">UTC if no timezone. Uses now if blank.</p>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">end date</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" placeholder="yyyy-mm-dd HH:MM[:SS] [MST/-0700]" ng-model="end">
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">duration</label>
		<div class="col-sm-6">
			<input type="text" class="form-control" placeholder="1h" ng-model="duration">
			<p class="help-block">Specify either end date or duration.</p>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">silence</label>
		<div class="col-sm-10">
			<input type="text" class="form-control" placeholder="host=.*-dev.*" ng-model="text">
			<p class="help-block">tagk=tagv,tagk2=tagv2,etc. tagvs are regexes.</p>
		</div>
	</div>
	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-6">
			<button class="btn btn-default" ng-click="test()">test</button>
		</div>
	</div>
</form>
<div class="row" ng-show="testSilences">
	<div class="col-sm-12">
		<h2>Will be silenced:</h2>
	</div>
	<div class="col-sm-12">
		<ul class="list-unstyled">
			<li ng-repeat="silence in testSilences" ng-bind="silence.Name + silence.Group"></li>
		<ul>
	</div>
	<div class="col-sm-12">
		<button class="btn btn-primary" ng-click="confirm()">confirm</button>
	</div>
</div>
<div class="row">
	<div class="col-sm-12">
		<table class="table">
			<thead>
				<tr>
					<th>start</th>
					<th>end</th>
					<th>silence</th>
					<th>clear</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="(id, s) in silences">
					<td ts-time="s.Start"></td>
					<td ts-time="s.End"></td>
					<td ng-bind="s.Text"></td>
					<td>
						<button class="btn btn-danger btn-xs" ng-click="clear(id)">clear</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>