<style type="text/css">
	.chart {
		height: 150px;
	}
</style>
<h1 ng-bind="host"></h1>
<ul class="nav nav-tabs">
	<li ng-class="{active: tab == 'stats'}"><a href ng-click="setTab('stats')">Primary Stats</a></li>
	<li ng-class="{active: tab == 'metrics'}"><a href ng-click="setTab('metrics')">Available Metrics</a></li>
</ul>
<div class="tab-content">
	<div class="tab-pane" ng-class="{active: tab == 'stats'}">
		<div class="row">
			<div class="col-lg-6">
				<h4>CPU</h4>
				<div class="chart" ts-graph data="cpu"></div>
			</div>
			<div class="col-lg-6">
				<h4>Memory <small>Total: {{mem_total | bytes}}</small></h4>
				<div class="chart" ts-graph data="mem" bytes="true"></div>
			</div>
		</div>
		<div ng-repeat="i in idata track by $index" ng-init="rows = [1,2]">
			<span ng-switch on="$index % 2">
				<div class="row" ng-switch-when="0">
					<div class="col-lg-{{12/rows.length}}" ng-show="idata[$parent.$index+$index]" ng-repeat="i in rows">
						<h4>Network Bit/s: {{idata[$parent.$index+$index].name}}</h4>
						<div class="chart" bits="true" ts-graph data="idata[$parent.$index+$index].data"></div>
					</div>
				</div>
			</span>
		</div>
		<div ng-repeat="i in fsdata track by $index" ng-init="rows = [1,2]">
			<span ng-switch on="$index % rows.length">
				<div class="row" ng-switch-when="0">
					<div class="col-lg-{{12/rows.length}}" ng-show="fsdata[$parent.$index+$index]" ng-repeat="i in rows">
						<h4>Disk Space: {{fsdata[$parent.$index+$index].name}} <small>({{fs_current[$parent.$index+$index].c_val | bytes}} / {{fs_current[$parent.$index+$index].total | bytes}}) {{fs_current[$parent.$index+$index].percent_used|number:0}}% Used</small></h4>
						<div class="chart" bytes="true" ts-graph data="fsdata[$parent.$index+$index].data"></div>
					</div>
				</div>
			</span>
		</div>
	</div>
	<div class="tab-pane" ng-class="{active: tab == 'metrics'}">
		<h1>Metrics</h1>
		<div class="form-group">
			<input class="form-control" placeholder="Filter Metrics" ng-model="filterMetrics">
		</div>
		<ul>
			<li ng-repeat="metric in metrics | filter:filterMetrics"><a href="/graph?b64={{btoa(json(mlink(metric)))}}" ng-bind="metric"></a></li>
		</ul>
	</div>
</div>